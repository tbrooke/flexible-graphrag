<div class="app-container">
  <mat-toolbar [ngClass]="isDarkMode ? 'dark-toolbar' : 'light-toolbar'">
    <mat-toolbar-row>
      <span>{{ title }}</span>
      <span class="spacer"></span>
      <div class="theme-switcher">
        <div class="custom-toggle" (click)="toggleThemeSimple()">
          <div class="toggle-track" [class.checked]="isLightMode">
            <div class="toggle-thumb" [class.checked]="isLightMode"></div>
          </div>
        </div>
        <mat-icon class="theme-icon">{{ isDarkMode ? 'dark_mode' : 'light_mode' }}</mat-icon>
        <span class="theme-text">{{ isDarkMode ? 'Dark' : 'Light' }}</span>
      </div>
    </mat-toolbar-row>
  </mat-toolbar>

  <main class="main-content">
    <div class="container">
      <mat-card class="main-card">
        <mat-tab-group [(selectedIndex)]="selectedTabIndex" class="full-width-tabs">
          <mat-tab label="SOURCES">
            <app-sources-tab 
              (configureProcessing)="onConfigureProcessing()"
              (sourcesConfigured)="onSourcesConfigured($event)">
            </app-sources-tab>
          </mat-tab>
          
          <mat-tab label="PROCESSING">
            <app-processing-tab 
              [hasConfiguredSources]="hasConfiguredSources"
              [configuredDataSource]="configuredDataSource"
              [configuredFiles]="configuredFiles"
              (goToSources)="selectedTabIndex = 0">
            </app-processing-tab>
          </mat-tab>
          
          <mat-tab label="SEARCH">
            <app-search-tab></app-search-tab>
          </mat-tab>
          
          <mat-tab label="CHAT">
            <app-chat-tab></app-chat-tab>
          </mat-tab>
          
          <!-- <mat-tab label="Graph">
            <app-graph-tab></app-graph-tab>
          </mat-tab> -->
        </mat-tab-group>
      </mat-card>
    </div>
  </main>
</div>